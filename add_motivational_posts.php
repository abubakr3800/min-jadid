<?php
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

require_once 'includes/Database.php';

try {
    $db = new Database();
    echo "Database initialized successfully\n";

    $user = $db->getUserByEmail('ahmed.mo.abubakr@gmail.com');
    if (!$user) {
        die("User not found\n");
    }

    $userId = $user['id'];
    echo "Found user: {$user['firstName']} {$user['lastName']} (ID: $userId)\n";

    // Remaining Arabic motivational articles
    $articles = [
        [
            'title' => 'قوة الإرادة والعزيمة',
            'content' => 'الإرادة والعزيمة هما المحرك الأساسي لتحقيق النجاح في الحياة. عندما تمتلك إرادة قوية وعزيمة لا تلين، فإنك تستطيع التغلب على أي عقبة وتجاوز أي تحدٍ يواجهك.

الإرادة القوية تجعلك ترفض الاستسلام مهما كانت الصعاب، والعزيمة الصلبة تدفعك للمضي قدماً حتى تصل إلى هدفك. لا تدع الظروف الخارجية تحدد مصيرك، بل استخدم إرادتك لتشكيل مستقبلك.

تذكر دائماً أن كل نجاح عظيم بدأ بإرادة قوية وعزيمة لا تتزعزع. كن صاحب إرادة وعزيمة، وستجد أن المستحيل يصبح ممكناً.',
            'categoryId' => '2',
            'tags' => ['قوة الإرادة', 'العزيمة', 'تحقيق الأهداف']
        ],
        [
            'title' => 'النجاح يبدأ من الداخل',
            'content' => 'النجاح الحقيقي لا يأتي من الخارج، بل ينبع من داخلك. عندما تؤمن بقدراتك وتثق في نفسك، فإنك تفتح أبواب النجاح على مصراعيها.

الثقة بالنفس هي الأساس الذي يبنى عليه كل إنجاز عظيم. لا تنتظر من الآخرين أن يؤمنوا بك، بل ابدأ أنت بالإيمان بنفسك وبقدراتك.

النجاح يبدأ عندما تقرر أن تكون أفضل نسخة من نفسك، وعندما تضع أهدافاً واضحة وتعمل بجد لتحقيقها. لا تدع الخوف أو الشك يمنعانك من تحقيق أحلامك.

تذكر أن كل شخص ناجح كان يوماً ما يحلم بالنجاح، والفرق الوحيد هو أنه قرر أن يبدأ رحلته نحو النجاح.',
            'categoryId' => '2',
            'tags' => ['النجاح', 'الثقة بالنفس', 'الأهداف']
        ],
        [
            'title' => 'التغيير يبدأ بك',
            'content' => 'إذا كنت تريد تغيير العالم، ابدأ بتغيير نفسك أولاً. التغيير الحقيقي يبدأ من الداخل، وعندما تتغير أنت، يتغير كل شيء من حولك.

لا تنتظر من الآخرين أن يتغيروا، بل ابدأ أنت بالتغيير الإيجابي. كن أنت التغيير الذي تريد أن تراه في العالم.

التغيير يتطلب شجاعة وإرادة قوية، لكن النتائج تستحق كل جهد تبذله. عندما تتغير للأفضل، فإنك تلهم الآخرين للقيام بنفس الشيء.

تذكر أن التغيير عملية تدريجية، فلا تستعجل النتائج. ابدأ بخطوات صغيرة وثابتة، وستجد أن التغيير يحدث بشكل طبيعي.',
            'categoryId' => '2',
            'tags' => ['التغيير', 'التطوير الذاتي', 'التحسين']
        ],
        [
            'title' => 'الوقت هو أثمن ما تملك',
            'content' => 'الوقت هو أثمن مورد تملكه في الحياة. لا يمكن شراؤه أو استبداله، وكل لحظة تمر لا تعود أبداً. استخدم وقتك بحكمة واستثمره في ما يهم حقاً.

لا تضيع وقتك في الأمور التافهة أو الأشخاص السلبيين. ركز على ما يضيف قيمة لحياتك ويساعدك على تحقيق أهدافك.

الوقت كالسيف، إن لم تقطعه قطعك. استخدم كل دقيقة من وقتك بشكل فعال، وستجد أن حياتك تتحسن بشكل كبير.

تذكر أن النجاح لا يأتي من تلقاء نفسه، بل يتطلب استثمار الوقت والجهد. استخدم وقتك بحكمة، وستحصد النتائج المذهلة.',
            'categoryId' => '2',
            'tags' => ['إدارة الوقت', 'الاستثمار', 'النجاح']
        ],
        [
            'title' => 'الفشل هو بداية النجاح',
            'content' => 'الفشل ليس نهاية الطريق، بل هو بداية التعلم والنمو. كل شخص ناجح فشل مرات عديدة قبل أن يصل إلى النجاح.

لا تدع الفشل يثبط عزيمتك أو يقتل أحلامك. استخدمه كدرس تعلم منه وتطور من خلاله. الفشل يجعلك أقوى وأكثر حكمة.

تذكر أن توماس إديسون فشل ألف مرة قبل أن يخترع المصباح الكهربائي. الفشل جزء طبيعي من رحلة النجاح، فلا تخف منه.

الفرق بين الناجح والفاشل هو أن الناجح يستمر في المحاولة حتى ينجح، بينما يستسلم الفاشل عند أول فشل.',
            'categoryId' => '2',
            'tags' => ['الفشل', 'التعلم', 'الاستمرارية']
        ],
        [
            'title' => 'كن أنت التغيير',
            'content' => 'لا تنتظر من العالم أن يتغير، بل كن أنت التغيير الذي تريد أن تراه. عندما تتغير للأفضل، فإنك تلهم الآخرين للقيام بنفس الشيء.

التغيير يبدأ بخطوة واحدة، وكل خطوة صغيرة تقودك نحو هدفك. لا تستصغر أي جهد تبذله، فكل شيء يبدأ بفكرة.

كن قدوة للآخرين من خلال أفعالك وليس كلماتك فقط. عندما تعيش القيم التي تؤمن بها، فإنك تجذب الأشخاص الإيجابيين إلى حياتك.

تذكر أن التغيير عملية مستمرة، فلا تتوقف عن التطوير والتحسين. استمر في النمو والتعلم، وستجد أن حياتك تتحسن يوماً بعد يوم.',
            'categoryId' => '2',
            'tags' => ['التغيير', 'القدوة', 'التطوير']
        ],
        [
            'title' => 'الأمل يضيء الطريق',
            'content' => 'الأمل هو النور الذي يضيء الطريق في أحلك الأوقات. عندما تحتفظ بالأمل، فإنك تجد القوة للمضي قدماً مهما كانت الصعاب.

الأمل ليس مجرد كلمة، بل هو قوة حقيقية تدفعك نحو النجاح. حتى في أصعب المواقف، احتفظ بالأمل وستجد أن الحلول تظهر.

لا تدع اليأس يتسلل إلى قلبك، بل املأه بالأمل والإيمان. الأمل يجعلك ترى الفرص في كل تحدٍ، والحلول في كل مشكلة.

تذكر أن كل ليلة مظلمة تنتهي بفجر جديد. احتفظ بالأمل، وستجد أن كل شيء ممكن.',
            'categoryId' => '2',
            'tags' => ['الأمل', 'الإيمان', 'التفاؤل']
        ],
        [
            'title' => 'النجاح رحلة وليس وجهة',
            'content' => 'النجاح ليس وجهة تصل إليها وتتوقف، بل هو رحلة مستمرة من النمو والتطوير. استمتع بالرحلة وتعلم من كل خطوة على الطريق.

لا تركز فقط على النتيجة النهائية، بل استمتع بالعملية نفسها. كل يوم هو فرصة للتعلم والنمو والتحسين.

النجاح الحقيقي هو أن تصبح أفضل نسخة من نفسك كل يوم. لا تقارن نفسك بالآخرين، بل قارن نفسك بنفسك بالأمس.

تذكر أن النجاح ليس في الوصول إلى القمة، بل في البقاء هناك والاستمرار في التسلق نحو ارتفاعات جديدة.',
            'categoryId' => '2',
            'tags' => ['النجاح', 'الرحلة', 'التطوير المستمر']
        ],
        [
            'title' => 'قوة الكلمات الإيجابية',
            'content' => 'الكلمات التي تقولها لنفسك لها تأثير كبير على حياتك. استخدم كلمات إيجابية وستجد أن حياتك تتغير للأفضل.

بدلاً من قول "لا أستطيع"، قل "سأحاول". بدلاً من "هذا مستحيل"، قل "هذا تحدي". الكلمات الإيجابية تفتح أبواب الإمكانيات.

تحدث إلى نفسك بالطريقة التي تريد أن تكون عليها. الكلمات الإيجابية تزرع البذور التي تنمو لتكون واقعك.

تذكر أن كل كلمة تقولها لنفسك تخلق واقعك. اختر كلماتك بحكمة، وستخلق حياة رائعة.',
            'categoryId' => '2',
            'tags' => ['الكلمات الإيجابية', 'التفكير الإيجابي', 'التحفيز الذاتي']
        ],
        [
            'title' => 'اصنع مستقبلك بنفسك',
            'content' => 'مستقبلك ليس محدداً مسبقاً، بل هو شيء تصنعه أنت من خلال خياراتك وأفعالك اليوم. كل قرار تتخذه اليوم يشكل مستقبلك.

لا تدع الظروف أو الأشخاص الآخرين يحددون مستقبلك. خذ زمام الأمور واصنع المستقبل الذي تريده لنفسك.

المستقبل يبدأ اليوم، وكل خطوة تتخذها تقربك من أحلامك. لا تؤجل التغيير إلى الغد، ابدأ اليوم.

تذكر أنك المسؤول الوحيد عن مستقبلك. اصنع خيارات ذكية، وستحصد نتائج مذهلة.',
            'categoryId' => '2',
            'tags' => ['المستقبل', 'الخيارات', 'المسؤولية']
        ]
    ];

    echo "Adding " . count($articles) . " Arabic motivational articles...\n\n";

    $addedCount = 0;
    foreach ($articles as $article) {
        $postData = [
            'title' => $article['title'],
            'content' => $article['content'],
            'categoryId' => $article['categoryId'],
            'tags' => $article['tags'],
            'userId' => $userId,
            'status' => 'published'
        ];

        echo "Attempting to add: {$article['title']}\n";
        $newPost = $db->addPost($postData);

        if ($newPost) {
            $addedCount++;
            echo "Successfully added: {$article['title']}\n";
        } else {
            echo "Failed to add: {$article['title']}\n";
        }
        echo "---\n";
    }

    echo "\nCompleted! Added $addedCount out of " . count($articles) . " articles to 'مقالات تحفيزية' category.\n";

} catch (Exception $e) {
    echo "Error: " . $e->getMessage() . "\n";
    echo "File: " . $e->getFile() . "\n";
    echo "Line: " . $e->getLine() . "\n";
}

echo "Script completed!\n";
?>